!function(d,m,t,e,k){var f=t.createElement,g=e.TextControl,w=e.CheckboxControl,_=e.RadioControl;function y(e,t,s){var r=e.attributes||"",i="",n="",o="",a="",c="",b="",u="";switch("subscribe"===r.hide?i=' hide="subscribe"':"unsubscribe"===r.hide&&(i=' hide="unsubscribe"'),""!==r.id&&undefined!==r.id&&(n=' id="'+r.id+'"'),!0===r.nojs&&(o=' nojs="true"'),!0===r.antispam&&(a=' antispam="true"'),""!==r.size&&undefined!==r.size&&"20"!==r.size&&(c=' size="'+r.size+'"'),!0===r.wrap&&(b=' wrap="false"'),""!==r.link&&undefined!==r.link&&(u=' link="'+r.link+'"'),t){case"hide":"none"===s?i="":"subscribe"===s?i=' hide="subscribe"':"unsubscribe"===s&&(i=' hide="unsubscribe"');break;case"id":n=""===s?"":' id="'+s+'"';break;case"nojs":!0===s?o=' nojs="true"':!1===s&&(o="");break;case"antispam":!0===s?a=' antispam="true"':!1===s&&(a="");break;case"size":c="20"===s?"":' size="'+s+'"';break;case"wrap":!0===s?b=' wrap="true"':!1===s&&(b="");break;case"link":u=""===s?"":' link="'+s+'"'}return e.attributes.shortcode="[subscribe2"+i+n+o+a+c+b+u+"]",e.attributes.shortcode}d.registerBlockType("subscribe2-html/shortcode",{title:m.__("Subscribe2 HTML","subscribe2"),icon:"email",category:"widgets",keywords:[m.__("email","subscribe2"),m.__("notification","subscribe2")],supports:{customClassName:!1,className:!1,multiple:!1,html:!1},attributes:{shortcode:{type:"text",selector:"p"},hide:{type:"string"},id:{type:"string"},nojs:{type:"boolean"},antispam:{type:"boolean"},size:{type:"number"},wrap:{type:"boolean"},link:{type:"string"}},transforms:{to:[{type:"block",blocks:["core/shortcode"],transform:function(e){return undefined!==e.shortcode&&""!==e.shortcode||(e.shortcode="[subscribe2]"),d.createBlock("core/shortcode",{text:e.shortcode})}}],from:[{type:"block",blocks:["core/shortcode"],transform:function(e){if("subscribe2"===e.text.substr(1,10)){for(var t,s,r,i,n,o,a,c,b=e.text,u=e.text.replace(/^\[subscribe2|\]$/g,"").replace(/^\s+|\s+$/g,"").split(/['"]\s/g),l=0;l<u.length;l++)"hide"===(t=u[l].split("="))[0]&&(s=t[1].replace(/['"]+/g,"")),"id"===t[0]&&(r=t[1].replace(/['"]+/g,"")),"nojs"===t[0]&&(i="true"===t[1].replace(/['"]+/g,"")),"antispam"===t[0]&&(n="true"===t[1].replace(/['"]+/g,"")),"size"===t[0]&&(o=t[1].replace(/['"]+/g,"")),"wrap"===t[0]&&(a="false"===t[1].replace(/['"]+/g,"")),"link"===t[0]&&(c=t[1].replace(/^['"]|['"]$/g,""));return d.createBlock("subscribe2-html/shortcode",{shortcode:b,hide:s,id:r,nojs:i,antispam:n,size:o,wrap:a,link:c})}}},{type:"shortcode",tag:"subscribe2",attributes:{shortcode:{type:"string",selector:"p"},hide:{type:"string",shortcode:function(e){return e.named.hide||"none"}},id:{type:"string",shortcode:function(e){return e.named.id||""}},nojs:{type:"boolean",shortcode:function(e){return e.named.nojs||!1}},antispam:{type:"boolean",shortcode:function(e){return e.named.antispam||!1}},size:{type:"number",shortcode:function(e){return e.named.size||"20"}},wrap:{type:"boolean",shortcode:function(e){return e.named.wrap||!1}},link:{type:"string",shortcode:function(e){return e.named.link||""}}}}]},edit:function(t){var e=t.attributes.hide||"none",s=t.attributes.id||"",r=t.attributes.nojs||!1,i=t.attributes.antispam||!1,n=t.attributes.size||"20",o=t.attributes.wrap||!1,a=t.attributes.link||"";return[t.isSelected&&f(k.InspectorControls,{key:"subscribe2-html/inspector"},f("h3",{},m.__("Subscribe2 Shortcode Parameters","subscribe2")),f(_,{label:m.__("Button Display Options","subscribe2"),selected:e,onChange:function c(e){t.attributes.shortcode=y(t,"hide",e),t.setAttributes({hide:e})},options:[{value:"none",label:m.__("Show Both Buttons","subscribe2")},{value:"subscribe",label:m.__("Hide Subscribe Button","subscribe2")},{value:"unsubscribe",label:m.__("Hide Unsubscribe Button","subscribe2")}]}),f(g,{type:"number",label:m.__("Page ID","subscribe2"),value:s,onChange:function b(e){t.attributes.shortcode=y(t,"id",e),t.setAttributes({id:e})}}),f(w,{label:m.__("Disable Javascript","subscribe2"),checked:r,onChange:function u(e){t.attributes.shortcode=y(t,"nojs",e),t.setAttributes({nojs:e})}}),f(w,{label:m.__("Disable Simple Anti-Spam Measures","subscribe2"),checked:i,onChange:function l(e){t.attributes.shortcode=y(t,"antispam",e),t.setAttributes({antispam:e})}}),f(g,{type:"number",label:m.__("Textbox size","subscribe2"),value:n,onChange:function d(e){t.attributes.shortcode=y(t,"size",e),t.setAttributes({size:e})}}),f(w,{label:m.__("Disable wrapping of form buttons","subscribe2"),checked:o,onChange:function p(e){t.attributes.shortcode=y(t,"wrap",e),t.setAttributes({wrap:e})}}),f(g,{type:"string",label:m.__("Link Text","subscribe2"),value:a,onChange:function h(e){t.attributes.shortcode=y(t,"link",e),t.setAttributes({link:e})}})),f("div",{key:"subscribe2-html/block",style:{backgroundColor:"#ff0",color:"#000",padding:"2px",textAlign:"center"}},m.__("Subscribe2 HTML Shortcode","subscribe2"))]},save:function(e){return f(t.RawHTML,null,"<p>"+e.attributes.shortcode+"</p>")}})}(window.wp.blocks,window.wp.i18n,window.wp.element,window.wp.components,window.wp.editor);